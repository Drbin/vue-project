<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/echarts/4.1.0.rc2/echarts.js"></script>
    <script src="http://202.85.223.75:8090/zpark/lib/echarts-wordcloud.min.js"></script>
    <script src="http://202.85.223.75:8090/zpark/js/map/china.js"></script>
    <script src="http://202.85.223.75:8090/zpark/js/map/world.js"></script>
    <script src="http://202.85.223.75:8090/zpark/js/map/all-province.js"></script>
    <style>
        *{margin: 0;padding: 0;}
        body,html{ width: 100%; height: 100%;background-color: #454545;}
        .allDiv{ width: 100%; height: 100%; background-image: url("bg_temp.png");background-size: 100%; background-repeat: no-repeat; position: absolute; z-index:999 !important;box-sizing: border-box; padding: 50px 50px 140px 50px; }
        .topFiveDiv{ width: 100%; height: 280px;  float:left; }
        .topFiveDiv .listDiv{ width: 20%; height: 280px; float: left; box-sizing: border-box; padding: 10px;}
        .listDivInner{ width: 100%; height: 200px;float: left;}
        .botDiv{ width: 100%; height: 400px; float: left;}
        .botDiv .twoDiv{ width: 48%; height: 100%; box-sizing: border-box; float: left;}
        .twoDivOne{ margin-right: 4%;}
        .flagMap{ width: 100%; height: 100%; float: left; border:1px solid rgba(244,244,244,.3); background-color: rgba(255,255,255,.1)}
        .skewSpan{ width: 30px; height: 20px; display: inline-block;margin-right:10px;}
        .listDivTitle{ width: 100%; height: 30px; line-height: 30px; float: left; color: #fff;}
        .skewSpan i{ display: inline-block;  height: 20px; width: 2px; margin-right: 4px; background-color:#aaa; transform: skew(-15deg);}
       .skewSpan .skewI1{width: 6px; margin-left: 5px; }



    </style>
</head>
<body>



<!--岗位需求热词-->
<div id="createWords" style="width: 340px; height: 270px; float: left;"></div>
<!--岗位需求数量-->

<div id="createWorks" style="width: 340px; height: 270px;float: left;"></div>
<!--学历-->
<div id="createSchool" style="width: 340px; height: 270px;float: left;"></div>
<!--人才薪资-->

<div id="lineShadow" style="width: 340px; height: 270px;float: left;"></div>
<!--园区岗位统计-->
<div id="station" style="width: 340px; height: 270px;float: left;"></div>
<!--园区岗位数量统计-->
<div id="stationNum" style="width: 340px; height: 270px;float: left;"></div>

<!--薪资水平-->
<div id="moreLine" style="width: 340px; height: 270px;float: left;"></div>

<!--招聘渠道-->
<div id="jobCanal" style="width: 340px; height: 270px;float: left;"></div>
<!--毕业年限-->
<div id="yearLong" style="width: 340px; height: 270px; float: left"></div>
<!--园区人员学历统计-->
<div id="innerSchool" style="width: 340px; height: 270px; float: left"></div>
<!--园区人员毕业年限统计-->
<div id="unStudyYear" style="width: 340px; height: 270px; float: left"></div>
<!--园区人员招聘方式占比 4.7-->
<div id="jobType" style="width: 340px; height: 270px; float: left"></div>
<!--知识产权-->
<div id="knowledgePower" style="width: 340px; height: 270px; float: left"></div>
<!--产品数量-->

<div id="productNum" style="width: 340px; height: 270px; float: left"></div>
<!--1， 园区企业总收入—按市场类型 6.3.1_国际业务分析-->
<div id="companyIncome" style="width: 340px; height: 270px; float: left"></div>
<!--， 园区企业获得国际资质认证 6.3.1_国际业务分析-->
<div id="interNation" style="width: 340px; height: 270px; float: left"></div>
<!--3， 园区国际业务收入 6.3.1_国际业务分析-->
<div id="cIncome" style="width: 340px; height: 270px; float: left"></div>


<div id="moreRing" style="width: 340px; height: 270px; float: left"></div>

<!--作品著作年度统计-->
<div id="manyGoods" style="width: 340px; height: 270px; float: left"></div>

<script>



    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkTalentController/queryTopJobClass',
        type:'GET',
        dataType:'json',
        success:function (res) {
            var a=[];
            for(var i=0;i<res.Data.length;i++){
               a.push({name:res.Data[i],value:i})
            }
            createWords(a,'createWords')

        }
    });
    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkTalentController/queryTopJobClassByRequireNum',
        type:'GET',
        dataType:'json',
        success:function (res) {
            var a=[];
            var b=[];
            for(var i=0;i<res.Data.length;i++){
                a.push(res.Data[i].key);
                b.push(res.Data[i].val);
            }
            createBar(a,b,'createWorks');
        }
    });
    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkTalentController/queryZparkPostNumCount',
        type:'GET',
        dataType:'json',
        success:function (res) {
            var a=[];
            var b=[];
            for(var i=0;i<res.Data.length;i++){
                a.push(res.Data[i].key);
                b.push(res.Data[i].val);
            }
            createBar(a,b,'stationNum',1);
        }
    });
    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkTalentController/querySalaryLevel',
        type:'GET',
        dataType:'json',
        success:function (res) {
            var a=[];
            var b=[];
            for(var i=0;i<res.Data.length;i++){
                a.push(res.Data[i].key);
                b.push(res.Data[i].val);

            }
            createLineShadow(a,b,'lineShadow');
        }
    });
    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkTalentController/queryEducatioinV',
        type:'GET',
        dataType:'json',
        success:function (res) {
            var a=[];
            var b=[];
            for(var i=0;i<res.Data.length;i++){
                a.push(res.Data[i].key);
                b.push({'name':res.Data[i].key,'value':res.Data[i].val});

            }
            createPie(a,b,'createSchool','学历要求');
        }
    });
    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkTalentController/queryZparkPostV',
        type:'GET',
        dataType:'json',
        success:function (res) {
            var a=[];
            for(var i=0;i<res.Data.length;i++){
                a.push({name:res.Data[i].key,value:res.Data[i].val})
            }
            createWords(a,'station')
        }
    });
    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkTalentController/queryZparkSalaryLevel',
        type:'GET',
        dataType:'json',
        success:function (res) {
            for(var i=0;i<res.Data.series.length;i++){
                res.Data.series[i].type='line'
            }

            createMoreLine(res.Data.xaxis,res.Data.series,'moreLine');
        }
    });
    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkTalentController/queryZparkEmployeeSource',
        type:'GET',
        dataType:'json',
        success:function (res) {
            var a=[];
            var b=[];
            for(var i=0;i<res.Data.length;i++){
                a.push(res.Data[i].key);
                b.push({'name':res.Data[i].key,'value':res.Data[i].val});

            }
            createPie(a,b,'jobCanal','招聘渠道');
        }
    });
    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkTalentController/queryExperienceCount',
        type:'GET',
        dataType:'json',
        success:function (res) {
            var a=[];
            var b=[];
            for(var i=0;i<res.Data.length;i++){
                a.push(res.Data[i].key);
                b.push({'name':res.Data[i].key,'value':res.Data[i].val});

            }
            createPie(a,b,'yearLong','毕业年限');
        }
    });
    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkTalentController/queryZparkPeopleEducation',
        type:'GET',
        dataType:'json',
        success:function (res) {
            var a=[];
            var b=[];
            for(var i=0;i<res.Data.length;i++){
                a.push(res.Data[i].key);
                b.push({'name':res.Data[i].key,'value':res.Data[i].val});
            }
            createPie(a,b,'innerSchool','学历统计');
        }
    });
    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkTalentController/queryZparkGraduateYears',
        type:'GET',
        dataType:'json',
        success:function (res) {

            createRing(res.Data,'unStudyYear');
        }
    });
    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkTalentController/queryZparkEmployeeSourceV',
        type:'GET',
        dataType:'json',
        success:function (res) {
            var a=[];
            var b=[];
            for(var i=0;i<res.Data.length;i++){
                a.push(res.Data[i].key);
                b.push({'name':res.Data[i].key,'value':res.Data[i].val});
            }
            createPie(a,b,'jobType','招聘占比');
        }
    });
    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkTechnologyController/queryKnowledgePower',
        type:'GET',
        dataType:'json',
        success:function (res) {

            createNewRing(res.Data,'knowledgePower');
        }
    });
    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkTechnologyController/queryProductNum',
        type:'GET',
        dataType:'json',
        success:function (res) {
            var a=[];
            var b=[];
            for(var i=0;i<res.Data.length;i++){
                a.push(res.Data[i].key);
                b.push(res.Data[i].val);
            }
            createBar(a,b,'productNum',1);
        }
    });
    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkTechnologyController/queryCopyRegWorksRankByYear',
        type:'GET',
        dataType:'json',
        success:function (res) {
            var a=[];
            var b=[];
            for(var i=0;i<res.Data.length;i++){
                a.push(res.Data[i].key);
                b.push(res.Data[i].val);
            }
            createBar(a,b,'manyGoods',1,0);
        }
    });
    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkCooperateController/queryZparkCompanyIncome',
        type:'GET',
        dataType:'json',
        success:function (res) {
            var a=[];
            var b=[];
            var c=[];
            var d=[];
            for(let key in res.Data['国内市场']){
                a.push(key);
                c.push(res.Data['国内市场'][key])
            }
            b.push(c)

            for(let key in res.Data['国内市场']){
                d.push(res.Data['国际市场'][key])
            }
            b.push(d);
            createMoreBar(a,b,'companyIncome',1,'亿元')
        }
    });
    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkCooperateController/queryInternationAuthen',
        type:'GET',
        dataType:'json',
        success:function (res) {
            var category=[]
            var rateData =[]
            var barData=[];
            var obj={
                'barDw':res.Data.nationAuthNumDw,
                'lineDw':res.Data.nationAuthDw,
                'barName':'园区企业获得国际资质认证',
                'lineName':'园区企业获得国际资质认证数量'

            };
            for(let key in res.Data['nationAuth']){
                category.push(key);
                barData.push(res.Data['nationAuth'][key])
            }

            for(let key in res.Data['nationAuthNum']){
                rateData.push(res.Data['nationAuthNum'][key])
            }


            createBarLine(category,rateData,barData,'interNation',obj)
        }
    });
    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkCooperateController/queryInternationIncome',
        type:'GET',
        dataType:'json',
        success:function (res) {
            var category=[]
            var rateData =[]
            var barData=[];
            var obj={
                'barDw':res.Data.nationAddNumDw,
                'lineDw':res.Data.nationAddvDw,
                'barName':'园区国际业务收入',
                'lineName':'园区国际业务收入增长率'

            };
            for(let key in res.Data['nationAddv']){
                category.push(key);
                barData.push(res.Data['nationAddv'][key])
            }

            for(let key in res.Data['nationAddNum']){
                rateData.push(res.Data['nationAddNum'][key])
            }


            createBarLine(category,rateData,barData,'cIncome',obj)
        }
    });
    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkCooperateController/queryInternationServices',
        type:'GET',
        dataType:'json',
        success:function (res) {
            var years=[];
            var a=res.Data.wdzs;
            var b=[];
            for(var year in res.Data.data){
                years.push(year);
            }
            for(var i=0;i<years.length;i++){
                var s=[];
                for(var val in res.Data.data[years[i]]){
                    s.push({value:res.Data.data[years[i]][val], name:val});
                }
                b.push(s)
            }

            createMoreRing(a,b,years,'moreRing')
        }
    });
    $.ajax({
        url:'http://202.85.223.75:8090/zpark/ZparkCooperateController/queryInternationServices',
        type:'GET',
        dataType:'json',
        success:function (res) {
            var years=[];
            var a=res.Data.wdzs;
            var b=[];
            for(var year in res.Data.data){
                years.push(year);
            }
            for(var i=0;i<years.length;i++){
                var s=[];
                for(var val in res.Data.data[years[i]]){
                    s.push({value:res.Data.data[years[i]][val], name:val});
                }
                b.push(s)
            }

            createMoreRing(a,b,years,'moreRing')
        }
    });
    const colors = ["#20e49f","#0bc785","#5cc3f0","#4189a9","#28a9e1","#6690f2","#0d6a92","#3469e4","#4866ab"];
    const newColor=['#5EA6FE', '#45FBF7', '#48FF58', '#EAE809', '#FF7E3F', '#FF4746', '#E177F9', '#4E6BFF'];

    function createMoreRing(a,b,years,dom){
        function ring(){
            var a=[];
            for (var i=0; i<b.length;i++){
                a.push(  {
                    name:years[i],
                    type:'pie',
                    radius: [i*12+10+'%',i*12+13+'%' ],
                    hoverOffset: 3,
                    label: {
                        show:false,
                        normal: {
                            show: false,
                            position: 'center'
                        }
                    },
                    labelLine: {
                        normal: {
                            show: false
                        }
                    },
                    data:b[i]
                })
            }
            return a;
        }
        let  option = {
            tooltip: {
                trigger: 'item',
                formatter: "{a} <br/>{b}: {c} ({d}%)"
            },
            color:newColor,
            legend: {
                orient: 'vertical',
                x: 'right',
                textStyle:{
                    color:'#fff'
                },
                data:a
            },
            series: ring()
        };
        var myChart = echarts.init(document.getElementById(dom));
        myChart.setOption(option);

    }
    function createBarLine(category,rateData,barData,dom,obj){
        var option = {
            title: {
                text: '',
                x: 'center',
                y: 0,
                textStyle:{
                    color:'#B4B4B4',
                    fontSize:16,
                    fontWeight:'normal',
                },

            },
            tooltip: {
                trigger: "axis",
                axisPointer: {
                    type: "shadow",
                    label: {
                        show: true
                    }
                }
            },
            legend: {
                show:false,
                textStyle: {
                    color: '#B4B4B4'
                },
                top:'7%',
            },
            grid:{
                top:"20%",
                bottom:'15%',
                left:'10%',
                right:'10%'

            },
            xAxis: {
                data: category,
                axisLine: {
                    lineStyle: {
                        color: '#B4B4B4'
                    }
                },
                axisTick:{
                    show:false,
                },
            },
            yAxis: [{
                name: obj.lineDw,
                nameTextStyle: {
                    color: "#ebf8ac"
                },
                splitLine: {show: false},
                axisLine: {
                    lineStyle: {
                        color: '#B4B4B4',
                    }
                },

                axisLabel:{
                    formatter:'{value} ',
                }
            },
                {
                    name: obj.barDw,
                    nameTextStyle: {
                        color: "#ebf8ac"
                    },
                    splitLine: {show: false},
                    axisLine: {
                        lineStyle: {
                            color: '#B4B4B4',
                        }
                    },
                    axisLabel:{
                        formatter:'{value} ',
                    }
                }],

            series: [{
                name: obj.barName,
                type: 'line',
                smooth: true,
                showAllSymbol: true,
                symbol: 'none',
                symbolSize: 8,
                yAxisIndex: 1,
                itemStyle: {
                    normal: {
                        color:'#20e49f'
                    },
                },
                data: rateData
            },

                {
                    name:  obj.lineName,
                    type: 'bar',
                    barWidth: 10,
                    itemStyle: {
                        normal: {
                            barBorderRadius: 5,
                            color: new echarts.graphic.LinearGradient(
                                0, 0, 0, 1,
                                [
                                    {offset: 0, color: '#956FD4'},
                                    {offset: 1, color: '#3EACE5'}
                                ]
                            )
                        }
                    },
                    data: barData
                }
            ]
        };
        var myChart = echarts.init(document.getElementById(dom));
        myChart.setOption(option);

    }
    function createNewRing(d,dom) {
        var data =d
        arrName = getArrayValue(data, "key");
        arrValue = getArrayValue(data, "val");
        sumValue = eval(arrValue.join('+'));
        objData = array2obj(data, "key");
        optionData = getData(data)
        function getArrayValue(array, key) {
            var key = key || "val";
            var res = [];
            if (array) {
                array.forEach(function(t) {
                    res.push(t[key]);
                });
            }
            return res;
        }

        function array2obj(array,key) {
            var resObj = {};
            for(var i=0;i<array.length;i++){
                resObj[array[i][key]] = array[i];
            }
            return resObj;
        }

        function getData(data) {
            var res = {
                series: [],
                yAxis: []
            };
            for (let i = 0; i < data.length; i++) {
                res.series.push({
                    name: '',
                    type: 'pie',
                    clockWise: false, //顺时加载
                    hoverAnimation: false, //鼠标移入变大
                    radius: [72 - i * 11 + '%', 73 - i * 11 + '%'],
                    center: ["40%", "55%"],
                    label: {
                        show: false
                    },
                    itemStyle: {
                        normal: {
                            label: {
                                show: false,
                                position: 'center'
                            },
                            labelLine: {
                                show: false
                            },
                            borderWidth: 5,
                            shadowBlur: 50,
                            borderColor: '#5FC5F5',
                            shadowColor: 'rgba(142,152,241, 0.6)'
                        }
                    },
                    data: [
                        {
                            value: (data[i].val),
                            name: data[i].key
                        },
                        {
                            value: sumValue - data[i].val,
                            name: '',
                            itemStyle: {
                                normal: {
                                    label: {
                                        show: false,
                                        position: 'center'
                                    },
                                    labelLine: {
                                        show: false
                                    },
                                    color: 'rgba(0, 0, 0, 0)',
                                    borderColor: 'rgba(0, 0, 0, 0)',
                                    borderWidth: 0
                                }
                            },
                            tooltip: {
                                show: false
                            },
                            hoverAnimation: false
                        }
                    ]
                });


                res.yAxis.push(data[i].key+"  :"+data[i].val+"" );
            }
            return res;
        }
        var option = {
            legend: {
                show: false,
            },
            tooltip: {
                show: true,
                trigger: "item",
                formatter: "{b}:{c} "
            },
            color: ['rgb(24, 183, 142)', 'rgb(1, 179, 238)', 'rgb(22, 75, 205)', 'rgb(52, 52, 176)'],
            grid: {
                top: '15%',
                bottom: '50%',
                left: "42%",
                containLabel: false
            },
            yAxis: [{
                type: 'category',
                inverse: true,
                axisLine: {
                    show: false
                },
                axisTick: {
                    show: false
                },
                axisLabel: {
                    interval: 0,
                    inside: true,
                    textStyle: {
                        color: "#fff",
                        fontSize: 12,
                    },
                    show: true
                },
                data: optionData.yAxis
            }],
            xAxis: [{
                show: false
            }],
            series: optionData.series
        };
        var myChart = echarts.init(document.getElementById(dom));
        myChart.setOption(option);
    }
    function createRing(d,dom) {
        var data =d
        arrName = getArrayValue(data, "key");
        arrValue = getArrayValue(data, "val");
        sumValue = eval(arrValue.join('+'))*100;
        objData = array2obj(data, "key");
        optionData = getData(data)
        function getArrayValue(array, key) {
            var key = key || "val";
            var res = [];
            if (array) {
                array.forEach(function(t) {
                    res.push(t[key]);
                });
            }
            return res;
        }

        function array2obj(array,key) {
            var resObj = {};
            for(var i=0;i<array.length;i++){
                resObj[array[i][key]] = array[i];
            }
            return resObj;
        }

        function getData(data) {
            var res = {
                series: [],
                yAxis: []
            };
            for (let i = 0; i < data.length; i++) {
                res.series.push({
                    name: '',
                    type: 'pie',
                    clockWise: false, //顺时加载
                    hoverAnimation: false, //鼠标移入变大
                    radius: [72 - i * 15 + '%', 73 - i * 15 + '%'],
                    center: ["40%", "55%"],
                    label: {
                        show: false
                    },
                    itemStyle: {
                        normal: {
                            label: {
                                show: false,
                                position: 'center'
                            },
                            labelLine: {
                                show: false
                            },
                            borderWidth: 5,
                            shadowBlur: 50,
                            borderColor: '#5FC5F5',
                            shadowColor: 'rgba(142,152,241, 0.6)'
                        }
                    },
                    data: [
                        {
                            value: (data[i].val)*100,
                            name: data[i].key
                        },
                        {
                            value: sumValue - data[i].val,
                            name: '',
                            itemStyle: {
                                normal: {
                                    label: {
                                        show: false,
                                        position: 'center'
                                    },
                                    labelLine: {
                                        show: false
                                    },
                                    color: 'rgba(0, 0, 0, 0)',
                                    borderColor: 'rgba(0, 0, 0, 0)',
                                    borderWidth: 0
                                }
                            },
                            tooltip: {
                                show: false
                            },
                            hoverAnimation: false
                        }
                    ]
                });


                res.yAxis.push(data[i].key+"  :"+data[i].val*100+"%" );
            }
            return res;
        }
        var option = {
            legend: {
                show: false,
            },
            tooltip: {
                show: true,
                trigger: "item",
                formatter: "{b}:{c} %"
            },
            color: ['rgb(24, 183, 142)', 'rgb(1, 179, 238)', 'rgb(22, 75, 205)', 'rgb(52, 52, 176)'],
            grid: {
                top: '15%',
                bottom: '55%',
                left: "42%",
                containLabel: false
            },
            yAxis: [{
                type: 'category',
                inverse: true,
                axisLine: {
                    show: false
                },
                axisTick: {
                    show: false
                },
                axisLabel: {
                    interval: 0,
                    inside: true,
                    textStyle: {
                        color: "#fff",
                        fontSize: 12,
                    },
                    show: true
                },
                data: optionData.yAxis
            }],
            xAxis: [{
                show: false
            }],
            series: optionData.series
        };
        var myChart = echarts.init(document.getElementById(dom));
        myChart.setOption(option);
    }
    function createMoreLine(a,b,dom) {
        option = {
            tooltip: {
                trigger: 'axis',
                position: function(point, params, dom, rect, size){
                    //其中point为当前鼠标的位置，size中有两个属性：viewSize和contentSize，分别为外层div和tooltip提示框的大小
                    var x = point[0];//
                    var y = point[1];
                    var viewWidth = size.viewSize[0];
                    var viewHeight = size.viewSize[1];
                    var boxWidth = size.contentSize[0];
                    var boxHeight = size.contentSize[1];
                    var posX = 0;//x坐标位置
                    var posY = 0;//y坐标位置

                    if(x<boxWidth){//左边放不开
                        posX = 5;
                    }else{//左边放的下
                        posX = x-boxWidth;
                    }

                    if(y<boxHeight){//上边放不开
                        posY = 5;
                    }else{//上边放得下
                        posY = y-boxHeight;
                    }

                    return [posX,posY];

                }
            },
            color:colors,
            legend: {
                show:false,
            },
            grid: {
                left: '5%',
                right: '4%',
                bottom: '15%',
                containLabel: true
            },

            xAxis: {
                type: 'category',
                boundaryGap: false,

                axisLine: {
                    lineStyle: {
                        color: '#fff'
                    }
                },
                axisTick: {
                    show: false,
                    color: '#fff'
                },
                splitLine: {
                    show: false,

                },
                axisLabel: {
                    margin: 10,

                    color: '#fff',
                    textStyle: {
                        fontSize: 14
                    },
                },
                data:a
            },
            yAxis: {
                type: 'value',
                axisLine: {
                    lineStyle: {
                        color: '#fff'
                    }
                },
                axisTick: {
                    show: false,
                    color: '#fff'
                },
                splitLine: {
                    show: false,
                    lineStyle: {
                        color: '#fff'
                    }
                },
                axisLabel: {
                    color: '#fff',
                    formatter:function(value){
                        return value+'k'
                    },
                    textStyle: {
                        fontSize: 14
                    },
                },
            },
            series:b
        };
        var myChart = echarts.init(document.getElementById(dom));
        myChart.setOption(option);

    }
    function createLineShadow(ys,ns,dom){
        var option = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'line',
                    lineStyle: {
                        color: '#206b7c',
                        type: 'dotted'
                    }
                },
                textStyle: {
                    fontSize: 18,
                },
                formatter: "{b} :{c0}",
            },
            legend: {
                top: '0',
                right: '3%',
                icon: "roundRect",
                itemWidth: 12,
                itemHeight: 2,
                textStyle: {
                    color: '#ffffff',
                    fontStyle: 'normal',
                    fontSize: 14,
                    // fontFamily: 'CRegular',
                    fontFamily: '黑体',
                },
            },
            grid:{
                top: '20%',
                left:'10%',
                right:'4%',
                bottom:'15%'
            },
            xAxis: [{
                type: 'category',
                data:ys,
                boundaryGap: false,
                axisTick: {
                    show: true,
                    lineStyle: {
                        color: '#fff',

                    }
                },
                axisLine: {
                    show: true,
                    lineStyle: {
                        color: '#fff',

                    }

                },
                splitLine: {
                    type: 'category',
                    show: false,
                    lineStyle: {
                        color: '#206b7c',
                        opacity: 0.5,
                        type: 'solid'
                    }
                },
                axisLabel: {
                    textStyle: {
                        fontFamily: 'FZHTJW',
                        color: '#fff',
                        fontSize: 14,
                    },

                },
            }],
            yAxis: [{
                scale:true,
                axisTick: {
                    show: true,
                    lineStyle: {
                        color: '#fff',

                    }
                },
                axisLine: {
                    show: true,
                    lineStyle: {
                        color: '#fff',

                    }

                },
                splitLine: {
                    show: false,
                    lineStyle: {
                        color: '#206b7c',
                        opacity: 0.5,
                        type: 'solid'
                    }
                },
                axisLabel: {
                    formatter:function(value){
                        return (value/1000)+'k'

                    },
                    textStyle: {
                        fontFamily: 'FZHTJW',
                        color: '#fff',
                        fontSize: 14,
                    },

                },

            }],
            series: [{

                type: 'line',
                smooth: true,
                symbol: "none",
                lineStyle: {
                    width: 2,
                },
                itemStyle: {
                    normal: {
                        color: '#659bd2',
                    }
                },
                areaStyle: {
                    color: {
                        type: 'linear',
                        x: 0,
                        y: 0,
                        x2: 0,
                        y2: 1,
                        colorStops: [{
                            offset: 0, color: 'rgba(101,155,210,0.2)' // 0% 处的颜色
                        }, {
                            offset: 1, color: 'rgba(101,155,210,0)' // 100% 处的颜色
                        }],
                        global: false // 缺省为 false
                    }
                },
                data: ns,
            }]

        };
        var myChart = echarts.init(document.getElementById(dom));
        myChart.setOption(option);
    }
    function createWords(data,dom){
        var option = {
            backgroundColor:'rgba(255,255,255,.1)',

            "tooltip": {
                "show": false,
            },
            "series": [{
                "name": "关键词分布",
                "type": "wordCloud",
                "gridSize": 20,
                textStyle: {
                    normal: {
                        color: function(v) {
                            let color = ['#27D38A',  '#5DD1FA','#47A0FF']
                            let num =Math.floor(Math.random() * (2 + 1));

                            return color[num];
                        },
                    },
                },
                "sizeRange": [12, 16],
                "rotationRange": [0, 0],
                "shape": "circle",
                "autoSize": {
                    "enable": true,
                    "minSize": 12,
                    'maxSize':16,
                },
                "data": data
            }]
        }
        var myChart = echarts.init(document.getElementById(dom));
        myChart.setOption(option);
    }
    function createPie(a,b,dom,tit){
        var option = {
            tooltip : {

                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)"

            },
            legend: {
                show:false,


            },
            color: ['#5EA6FE', '#45FBF7', '#48FF58', '#EAE809', '#FF7E3F', '#FF4746', '#E177F9', '#4E6BFF'],

            series : [
                {
                    name:tit,
                    type: 'pie',
                    radius : '55%',
                    center: ['40%', '50%'],
                    data:b,
                    itemStyle: {
                        emphasis: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    },

                }
            ]
        };

        var myChart = echarts.init(document.getElementById(dom));
        myChart.setOption(option);
    }
    function createBar(a,b,dom,flag,ag){

        if(ag===0){
            ag=0
        }else{
            ag=45
        }

        var colorSet =new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
            offset: 0,
            color: '#6ec2d9'
        }, {
            offset: 1,
            color: '#3468bc'
        }]);

        var option = {

            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                },
                formatter: "{b}:{c} "
            },
            legend: {
                show:false
            },
            grid: {
                left: '14%',
                right: '5%',
                bottom: '25%',
                top:'5%'
            },
            xAxis: {
                type: 'category',
                data:a,
                axisLabel: {
                    interval: 0,
                    rotate:ag,
                    textStyle: {
                        fontSize: 12,
                        color: '#fff'
                    }
                },
                axisLine: {
                    lineStyle: {
                        color: '#00A2FF',
                        width: 2
                    }
                },
            },
            yAxis: {
                type: 'value',
                axisLabel: {
                    formatter:function(val){
                        if(flag==1){
                            return val;
                        }else{
                            return (val/1000)+'k'
                        }

                    },
                    textStyle: {
                        fontSize: 12,
                        color: '#fff'
                    }
                },
                splitLine:{
                    show:false
                },
                axisLine: {

                    lineStyle: {
                        color: '#00A2FF',
                        width: 2
                    }
                },

            },
            series: [{
                name:'',
                data: b,
                type: 'bar',
                barWidth: 10,
                barGap: 1,
                itemStyle: {
                    normal: {
                        barBorderRadius: [5, 5, 0, 0],
                        color:'#3468bc'
                    }
                },
            }]
        };
        var myChart = echarts.init(document.getElementById(dom));
        myChart.setOption(option);
    }
    function createMoreBar(a,b,dom,flag,dw){

        var colorSet =new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
            offset: 0,
            color: '#6ec2d9'
        }, {
            offset: 1,
            color: '#3468bc'
        }]);
        function moreBar(){
            var a=[];
            for(var i=0;i<b.length;i++){
                a.push({
                    name:'访问人次排名',
                    data: b[i],
                    type: 'bar',
                    barWidth: 10,
                    barGap: 1,
                    itemStyle: {
                        normal: {
                            barBorderRadius: [5, 5, 0, 0],
                            color:newColor[i]
                        }
                    },
                })
            }
            return a;

        }

        var option = {

            tooltip: {
                trigger: 'axis',
                formatter:function(val){
                    var str=''
                    for(var i=0;i<val.length;i++){
                        str+=val[i].value+':'+dw+"</br>";
                    }
                    return str;
                },
                axisPointer: { // 坐标轴指示器，坐标轴触发有效
                    type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            legend: {
                show:false
            },
            grid: {
                left: '14%',
                right: '5%',
                bottom: '25%',
                top:'5%'
            },
            xAxis: {
                type: 'category',
                data:a,
                axisLabel: {

                    textStyle: {
                        fontSize: 12,
                        color: '#fff'
                    }
                },
                axisLine: {
                    lineStyle: {
                        color: '#00A2FF',
                        width: 2
                    }
                },
            },
            yAxis: {
                type: 'value',
                axisLabel: {
                    formatter:function(val){
                        if(flag==1){
                            return val;
                        }else{
                            return (val/1000)+'k'
                        }

                    },
                    textStyle: {
                        fontSize: 12,
                        color: '#fff'
                    }
                },
                splitLine:{
                    show:false
                },
                axisLine: {

                    lineStyle: {
                        color: '#00A2FF',
                        width: 2
                    }
                },

            },
            series: moreBar()
        };
        var myChart = echarts.init(document.getElementById(dom));
        myChart.setOption(option);
    }

</script>
</body>
</html>